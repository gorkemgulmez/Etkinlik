
@model SurveyModel
@{
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Index</title>
    <link href="//netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css">
    <link href="~/css/Style.css" rel="stylesheet" type="text/css" />
    <link href="~/css/StyleSheet.css" rel="stylesheet" type="text/css" />

    <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>
    <script src="//code.jquery.com/jquery-1.11.1.min.js"></script>
    <script>

        $(function () {

            $(document).on('focus', 'div.form-group-options div.input-group-option:last-child input', function () {

                var sInputGroupHtml = $(this).parent().html();
                var sInputGroupClasses = $(this).parent().attr('class');
                $(this).parent().parent().append('<div class="' + sInputGroupClasses + '">' + sInputGroupHtml + '</div>');

            });

            $(document).on('click', 'div.form-group-options .input-group-addon-remove', function () {

                $(this).parent().remove();

            });

        });


        $(function () {

            var values = new Array();

            $(document).on('change', '.form-group-multiple-selects .input-group-multiple-select:last-child select', function () {

                var selectsLength = $(this).parent().parent().find('.input-group-multiple-select select').length;
                var optionsLength = ($(this).find('option').length) - 1;

                if (selectsLength < optionsLength) {
                    var sInputGroupHtml = $(this).parent().html();
                    var sInputGroupClasses = $(this).parent().attr('class');
                    $(this).parent().parent().append('<div class="' + sInputGroupClasses + '">' + sInputGroupHtml + '</div>');
                }

                updateValues($(this).parent().parent());

            });

            $(document).on('change', '.form-group-multiple-selects .input-group-multiple-select:not(:last-child) select', function () {

                updateValues($(this).parent().parent());

            });

            $(document).on('click', '.input-group-addon-remove', function () {

                var oSelectContainer = $(this).parent().parent()
                $(this).parent().remove();
                updateValues(oSelectContainer);

            });

            function updateValues(oSelectContainer) {

                values = new Array();
                $(oSelectContainer).find('.input-group-multiple-select select').each(function () {
                    var value = $(this).val();
                    if (value != 0 && value != "") {
                        values.push(value);
                    }
                });

                $(oSelectContainer).find('.input-group-multiple-select select').find('option').each(function () {
                    var optionValue = $(this).val();
                    var selectValue = $(this).parent().val();
                    if (in_array(optionValue, values) != -1 && selectValue != optionValue) {
                        $(this).attr('disabled', 'disabled');
                    }
                    else {
                        $(this).removeAttr('disabled');
                    }
                });

            }

            function in_array(needle, haystack) {

                var found = 0;
                for (var i = 0, length = haystack.length; i < length; i++) {
                    if (haystack[i] == needle) return i;
                    found++;
                }
                return -1;

            }

            $('.form-group-multiple-selects').each(function (i, e) {

                updateValues(e);

            });

        });
    </script>

</head>
<body><div class="container" style="margin-top:40px">

    <div class="row">
        <div class="col-sm-12 col-md-10  col-md-offset-1 ">

            <div class="form-group form-group-options col-xs-11 col-sm-8 col-md-4">
                <h3>QUESTION</h3>
                <input class="form-control" placeholder="Enter question " type="text">
                <br>
                <div class="input-group input-group-option col-xs-12">

                    <input name="option[]" class="form-control" placeholder="Give answer" type="text">
                    <span class="input-group-addon input-group-addon-remove">
                        <span class="glyphicon glyphicon-remove"></span>
                    </span>

                </div>
                
            </div>
            <div class="col-lg-12 col-md-12">
                <button type="submit" class="btn btn-default">Add Survey</button>
            </div>
        </div>

        </div>

    </div>


                                   


   
   
</body>
</html>
